<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulazione Creazione Codice HTML</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Editor di HTML, CSS e JavaScript</h1>
        <div class="row">
            <div class="col-md-4">
                <h3>HTML</h3>
                <textarea id="htmlEditor">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Pagina di Esempio&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Ciao, mondo!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
            </div>
            <div class="col-md-4">
                <h3>CSS</h3>
                <textarea id="cssEditor"></textarea>
            </div>
            <div class="col-md-4">
                <h3>JavaScript</h3>
                <textarea id="jsEditor"></textarea>
            </div>
        </div>
        <h3 class="mt-4">Risultato</h3>
        <iframe id="outputFrame" frameborder="0" width="100%" height="400"></iframe>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/javascript/javascript.min.js"></script>
    <script>
        const htmlEditor = CodeMirror.fromTextArea(document.getElementById("htmlEditor"), {
            mode: "htmlmixed",
            theme: "default"
        });

        const cssEditor = CodeMirror.fromTextArea(document.getElementById("cssEditor"), {
            mode: "css",
            theme: "default"
        });

        const jsEditor = CodeMirror.fromTextArea(document.getElementById("jsEditor"), {
            mode: "javascript",
            theme: "default"
        });

        const outputFrame = document.getElementById("outputFrame").contentWindow.document;

        function updateOutput() {
            const htmlContent = htmlEditor.getValue();
            const cssContent = "<style>" + cssEditor.getValue() + "</style>";
            const jsContent = "<script>" + jsEditor.getValue() + "</script>";

            outputFrame.open();
            outputFrame.write(htmlContent + cssContent + jsContent);
            outputFrame.close();
        }

        htmlEditor.on("change", updateOutput);
        cssEditor.on("change", updateOutput);
        jsEditor.on("change", updateOutput);

        updateOutput();
    </script>
</body>
</html>
